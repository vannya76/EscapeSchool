<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <link rel="icon" href="images/b111.png">
    <title>Virtual Escape School Game</title>
    <style>
    *{
        margin: 0px;
        padding: 0px;
    } 
    body{
        background-color: #21B581;
    }
    header{
        display: flex;
        justify-content: center;      
        background-color: #21B581;
    }
    main{
       width: 95%;
       background-color: white;
       margin: 20px auto;
       position:sticky;
    }
    footer{
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-bottom: 30px;
        border: 3px solid grey;
        background-color: #21B581;
    }
    input {
        margin: 10px auto;
        border: 1px solid grey;
        font-size: 1.8vw;
        text-align: center;
    }
    a{
        text-decoration: none;
        color: inherit;
    }
    p{ 
        font-size: 1.5vw;
        padding: 0px 7px;
    }
    section{   
        margin: -15px auto;
        padding: 20px 40px;
        text-align: justify;
       /* border: 1px solid grey;*/
    }
   
    .pics{
            display:flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content:space-evenly;
            align-items:center;
            width: 100%;
        }   
   
     .meduza{
        background-color:transparent;
        border: 1px solid grey;
        margin: auto;
        width: 11.5vw;
        height:7vw;
        box-sizing:content-box;
        position: static;
     }  
     .draggable{
        background-color:transparent;
        border: 1px solid grey;
        margin: auto;
        box-sizing: content-box;
        width:11.5vw;
        height: 7vw;
        transition: transform .3s;
 
     }
     .draggable:hover {
        -ms-transform: scale(1.5); /* IE 9 */
        -webkit-transform: scale(1.5); /* Safari 3-8 */
        transform: scale(1.5); 
}

     .--inp{
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content:space-between; 
        margin: auto 0px;  
        width:100%;     
     }
     h5{
        padding:3px 7px;
        font-size: 1.7vw;
     }
     .move{
        height: 7vw;
        width:11.5vw;
     }
     .container-fluid{
      position: relative;
      overflow: hidden;
      width: 100%;  
      padding-top: 47%;
      margin-top: -20px;
    }
    .responsive-iframe {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;
    }
    .container-overlay{
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      width: 100%;
      height: 100%;
    }
    .bg{
        margin: 3vw auto 0px;
        background-color: white;
        padding: 10px;
    }
    .poets{
        width: 100%;
        display: flex;
        flex-direction: row;
        justify-content: center;
        position: relative;       
        
    }
    .card{
        width:100%;
        height: auto;
    }
    .poetscheck{
        width: 100%;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        position: relative;
        margin: auto ;  
    }
    
    .card-title{
        width:21vw;
        font-size: 1.7vw;
    }
    </style>
</head>
<body>  
    <header>
        <img src="images/escape room animation1.gif" style="width: 40%;" >
        <img src="images/lit2bl.jpg" style="width: 40%;" > 
    </header>
    <h2 style="text-align: center; margin: 0.5vw auto;  font-size:2vw;">Старогръцка митология - тайната на Медуза</h2>
    <main>
        <section class="shadow-lg">
         <p >Вашето пътуване във времето ви отведе в Античността, където ще се срещнете с олимпийски богове, герои, митични същества. Но внимавайте, грози ви опасността никога да не напуснете тази епоха. Времето ви изтича, а и в мрака ви дебне горгона Медуза, която пази портала към следващото ви изпитание. За да се справите, разчитайте на знанията си за старогръцката митология. И не за бравяйте, не гледайте Медуза в очите...</p>
         <h3 id="task" style="text-align: center; color: #DDAE5B; font-size: 1.7vw;margin-bottom: 10px;">Поставете изображенията на правилните места върху картинката.</h3>
         <div class="card text-bg-dark" style="width:85%; height:auto; margin: auto;">
            <img src="images/quiz22.jpg"  class="card-img" alt="...">      
            <div class=" card-img-overlay row row-cols-1 row-cols-md-1 " >
                <div class="--inp row row-cols-1 row-cols-md-1 "  >
                    <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="zeus"></div>
                    <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="prometheus"></div>
                    <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="achilles"></div>
               </div>
                <div class="--inp row row-cols-1 row-cols-md-1 " style="justify-content:space-evenly; margin-left:30px;">
                <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="troy"></div>
                <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="poseidon"></div>
                <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="hades"></div>
                </div>
                <div class="--inp row row-cols-1 row-cols-md-1 ">
                    <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="apple"></div>
                    <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="medusa"></div>
                    <div class="meduza wrapImage" ondrop="drop(event)" ondragover="allowDrop(event)" data-image="tezeus"></div>
                </div>
            </div>
          </div>      
    </section>                         
    <section class="shadow-lg" id="pics1">
        <div  class='pics'>
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/prometheus.jpg"  id="prometheus" draggable="true" ondragstart="drag(event)">
            </div>
              
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/Hades1.jpg"  id="hades"
                     draggable="true" ondragstart="drag(event)">
            </div>
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/fallTroy.jpg"  id="troy"
                     draggable="true" ondragstart="drag(event)">
            </div>
            <div class="draggable  m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/gm.gif"  id="medusa"
                     draggable="true" ondragstart="drag(event)">
            </div>
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/Achilles_Hector.png"  id="achilles"
                     draggable="true" ondragstart="drag(event)">
            </div> 
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/zeus.png"  id="zeus"
                     draggable="true" ondragstart="drag(event)">
            </div>
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/poseidon.jpg"  id="poseidon"
                     draggable="true" ondragstart="drag(event)">
            </div>
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img  class="move" src="images/AHA1.png"  id="apple"
                     draggable="true" ondragstart="drag(event)">
            </div>
            
              
            <div class="draggable m-3 p-0 shadow-lg" ondrop="drop(event)" ondragover="allowDrop(event)">
                <img class="move" src="images/tezeus1.jpg"  id="tezeus" draggable="true" ondragstart="drag(event)">
            </div>
           
        </div> 
        
        <div ><h3  class='shadow-lg btn btn-outline-success' style=" color: #DDAE5B ;padding:10px 10px;  font-size:1.7vw; font-weight: 600; border-radius: 15px; margin: 15px 45%;" onclick="ok()"> ПРОВЕРИ</h3>   </div>
        
    </section>    
</main>

<div style="width: 100%;height: 50px; background-color: #21B581; position:sticky; z-index: 1;"></div>

<div class="container-fluid shadow-lg" id="portal" style="pointer-events:none;" >
    <iframe   class="responsive-iframe" src="https://learningapps.org/watch?v=p6vie0xrn23" allowfullscreen="false" webkitallowfullscreen="false" mozallowfullscreen="false"></iframe>
    <div class="container-overlay" id="overlay" onclick="ok2()" ><img src="images/portal5.gif"   style="width: 100%; height: 100%; " ></div>
</div>
<div class="bg" >
    <h3 style="text-align: center; color: #DDAE5B; font-size: 1.7vw;">Кои са авторите на стиховете?</h3>
<div class="poets">        
          <div class="card   p-0  m-2">
            <img src="images/Slide2.JPG" class="card-img-top " >
          </div>   
          <div class="card  p-0 m-2">
            <img src="images/Slide3.JPG" class="card-img-top">
          </div>     
</div>
<div class="poetscheck">
    <input class="card-title " id="rid1" type="text"> 
    <input class="card-title " id="rid2" type="text"> 
    <input class="card-title " id="rid3" type="text"> 
    <input class="card-title " id="rid4" type="text"> 
</div>
<div ><h3  class='shadow-lg btn btn-outline-success' style=" color: #DDAE5B ;padding:10px 10px;  font-size:1.7vw; font-weight: 600; border-radius: 15px; margin: 15px 45%;" onclick="ok3()"> ПРОВЕРИ</h3>   </div>             
</div>
    <footer>
        <h5 style="text-align: center; margin-top: 15px; font-size: 1.8vw;">ВЪВЕДЕТЕ КОДА В ПОЛЕТО И ЩЕ МОЖЕТЕ ДА ПРЕМИНЕТЕ КЪМ ОСТАНАЛИТЕ СТАИ.</h5>
        <input id="textID" type="text"  >
        <img src="images/books1.gif"  onclick="check()" style="width: 20%; cursor: pointer;" >
    </footer>
    <script>   
    
function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
  ev.preventDefault();
  var data = ev.dataTransfer.getData("text");
  ev.target.appendChild(document.getElementById(data));
}

function ok() {
        let message = "Грешка, опитай пак!";
        

        if(checkMatchedImages()) {
            message = 'Поздравления! Щом четете това, значи не сте се превърнали в статуи, разрешили сте загадката и можете да отворите портала на Медуза, който ще ви отведе към следващото изпитание.';
            ok1();
        }

        alert(message);
             
    }

    function checkMatchedImages() {
        let valid = true;
        $(".wrapImage").each(function(index, item) {
            let imageParentId = $(item).data("image");
            if($(item).find("img#" + imageParentId).length < 1) {
                return valid = false;
            }
        });

        return valid;
    }

    const show=document.getElementById('portal')      
    function ok1(){ 
        location.href='#portal';
        show.style="pointer-events:all;"
        }
    const hide=document.getElementById('overlay')
    function ok2(){   
        hide.style="visibility:hidden;"
        }
        const poet1=document.getElementById('rid1') 
        const poet2=document.getElementById('rid2') 
        const poet3=document.getElementById('rid3') 
        const poet4=document.getElementById('rid4') 
        function ok3(){   
            if(poet1.value==='Пейо Яворов'&& poet2.value==='Дамян Дамянов'&& poet3.value==='Христо Фотев'&& poet4.value==='Петя Дубарова' ){
            alert('ПОЗДРАВЛЕНИЯ! Вие намерихте и втората част от кода за излизане от стаята по български език и литература - фамилията на автора на химна на Механото - КАРАГЬОЗОВ. ');
           
            }else{
            alert('ГРЕШКА.');
            }
        }
      
    const code=document.getElementById('textID')
    function check(){
            if(code.value==='Руслан Карагьозов' ||code.value==='РУСЛАН КАРАГЬОЗОВ'){
            alert('БРАВО! ВИЕ УСПЯХТЕ ДА ИЗЛЕЗЕТЕ ОТ СТАЯТА И НАУЧИХТЕ ИМЕТО НА АВТОРА НА ХИМНА НА НАШЕТО МЕХАНО - РУСЛАН КАРАГЬОЗОВ');
            code.value=""
            window.open('pn.html','_self');
            }else{
            alert('ГРЕШЕН КОД');
            }
        }   
    </script>
   
</body>
</html>